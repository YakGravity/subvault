/*
 * SubTrackr Theme System
 * v0.11.0
 *
 * Overrides design-system.css CSS custom properties per theme.
 * Legacy Tailwind overrides are kept for backward compatibility
 * during template migration and will be removed in a future release.
 */

/* ═══════════════════════════════════════════
   DEFAULT THEME (Warm Utility — Light)
   Already defined in design-system.css :root.
   Explicit data-theme selector for JS toggle.
   ═══════════════════════════════════════════ */
[data-theme="default"] {
    --bg: #f5f3ef;
    --bg-card: #ffffff;
    --bg-nav: #1c1917;
    --bg-nav-hover: #292524;
    --bg-nav-active: #44403c;
    --text: #1c1917;
    --text-secondary: #78716c;
    --text-muted: #a8a29e;
    --text-nav: #d6d3d1;
    --text-nav-active: #ffffff;
    --border: #e7e5e4;
    --border-light: #f5f5f4;
    --accent: #c2410c;
    --accent-hover: #9a3412;
    --accent-light: #fed7aa;
    --accent-surface: #fff7ed;
    --success: #15803d;
    --success-light: #dcfce7;
    --warning: #a16207;
    --warning-light: #fef9c3;
    --danger: #b91c1c;
    --danger-light: #fee2e2;
    --info: #1d4ed8;
    --info-light: #dbeafe;
    --shadow: 0 1px 2px rgba(28, 25, 23, .04), 0 1px 3px rgba(28, 25, 23, .06);
    --shadow-md: 0 2px 8px rgba(28, 25, 23, .06), 0 1px 2px rgba(28, 25, 23, .04);
}

/* ═══════════════════════════════════════════
   DARK THEME
   ═══════════════════════════════════════════ */
[data-theme="dark"] {
    --bg: #121212;
    --bg-card: #1e1e1e;
    --bg-nav: #0a0a0a;
    --bg-nav-hover: #1a1a1a;
    --bg-nav-active: #2a2a2a;
    --text: #e4e4e7;
    --text-secondary: #a1a1aa;
    --text-muted: #71717a;
    --text-nav: #a1a1aa;
    --text-nav-active: #ffffff;
    --border: #3f3f46;
    --border-light: #27272a;
    --accent: #ea580c;
    --accent-hover: #f97316;
    --accent-light: #431407;
    --accent-surface: #1c0f05;
    --success: #22c55e;
    --success-light: #052e16;
    --warning: #eab308;
    --warning-light: #422006;
    --danger: #ef4444;
    --danger-light: #450a0a;
    --info: #60a5fa;
    --info-light: #172554;
    --shadow: 0 1px 2px rgba(0, 0, 0, .3), 0 1px 3px rgba(0, 0, 0, .2);
    --shadow-md: 0 2px 8px rgba(0, 0, 0, .3), 0 1px 2px rgba(0, 0, 0, .2);
}

/* ═══════════════════════════════════════════
   MIDNIGHT THEME (Deep Purple)
   ═══════════════════════════════════════════ */
[data-theme="midnight"] {
    --bg: #0a0a0f;
    --bg-card: #1a1a2e;
    --bg-nav: #070710;
    --bg-nav-hover: #16162a;
    --bg-nav-active: #2a2540;
    --text: #e9d5ff;
    --text-secondary: #c4b5fd;
    --text-muted: #8b7fc7;
    --text-nav: #a78bfa;
    --text-nav-active: #f5f3ff;
    --border: #4c1d95;
    --border-light: #2e1065;
    --accent: #8b5cf6;
    --accent-hover: #7c3aed;
    --accent-light: #3b0764;
    --accent-surface: #1e0a3e;
    --success: #4ade80;
    --success-light: #052e16;
    --warning: #fbbf24;
    --warning-light: #422006;
    --danger: #fb7185;
    --danger-light: #4c0519;
    --info: #a78bfa;
    --info-light: #2e1065;
    --shadow: 0 1px 2px rgba(0, 0, 0, .4), 0 0 15px rgba(139, 92, 246, .08);
    --shadow-md: 0 2px 8px rgba(0, 0, 0, .4), 0 0 20px rgba(139, 92, 246, .12);
}

/* ═══════════════════════════════════════════
   OCEAN THEME
   ═══════════════════════════════════════════ */
[data-theme="ocean"] {
    --bg: #f0f9ff;
    --bg-card: #ffffff;
    --bg-nav: #0c4a6e;
    --bg-nav-hover: #075985;
    --bg-nav-active: #0369a1;
    --text: #0c4a6e;
    --text-secondary: #475569;
    --text-muted: #94a3b8;
    --text-nav: #bae6fd;
    --text-nav-active: #ffffff;
    --border: #bae6fd;
    --border-light: #e0f2fe;
    --accent: #0891b2;
    --accent-hover: #0e7490;
    --accent-light: #cffafe;
    --accent-surface: #ecfeff;
    --success: #059669;
    --success-light: #d1fae5;
    --warning: #d97706;
    --warning-light: #fef3c7;
    --danger: #dc2626;
    --danger-light: #fee2e2;
    --info: #2563eb;
    --info-light: #dbeafe;
    --shadow: 0 1px 2px rgba(12, 74, 110, .04), 0 1px 3px rgba(12, 74, 110, .06);
    --shadow-md: 0 2px 8px rgba(12, 74, 110, .06), 0 1px 2px rgba(12, 74, 110, .04);
}

/* ═══════════════════════════════════════════
   CHRISTMAS THEME
   ═══════════════════════════════════════════ */
[data-theme="christmas"] {
    --bg: #fef2f2;
    --bg-card: #ffffff;
    --bg-nav: #450a0a;
    --bg-nav-hover: #7f1d1d;
    --bg-nav-active: #991b1b;
    --text: #1f2937;
    --text-secondary: #6b7280;
    --text-muted: #9ca3af;
    --text-nav: #fecaca;
    --text-nav-active: #ffffff;
    --border: #fecaca;
    --border-light: #fef2f2;
    --accent: #c41e3a;
    --accent-hover: #a01729;
    --accent-light: #fecdd3;
    --accent-surface: #fff1f2;
    --success: #15803d;
    --success-light: #dcfce7;
    --warning: #a16207;
    --warning-light: #fef9c3;
    --danger: #b91c1c;
    --danger-light: #fee2e2;
    --info: #1d4ed8;
    --info-light: #dbeafe;
    --shadow: 0 1px 2px rgba(196, 30, 58, .04), 0 1px 3px rgba(196, 30, 58, .06);
    --shadow-md: 0 2px 8px rgba(196, 30, 58, .06), 0 1px 2px rgba(196, 30, 58, .04);
}

/* ═══════════════════════════════════════════
   THEME-SPECIFIC EFFECTS
   ═══════════════════════════════════════════ */

/* Midnight glow effects */
[data-theme="midnight"] h1,
[data-theme="midnight"] h2,
[data-theme="midnight"] h3 {
    text-shadow: 0 0 10px rgba(139, 92, 246, 0.3);
}

[data-theme="midnight"] .btn:focus {
    box-shadow:
        0 0 0 2px rgba(139, 92, 246, 0.3),
        0 0 12px rgba(139, 92, 246, 0.4);
}

/* Christmas festive decorations */
[data-theme="christmas"] h1::before,
[data-theme="christmas"] h2::before {
    content: '\1F384 ';
    margin-right: 0.5rem;
}

[data-theme="christmas"] h1::after,
[data-theme="christmas"] h2::after {
    content: ' \1F384';
    margin-left: 0.5rem;
}

[data-theme="christmas"] .card {
    border-left: 3px solid #ffd700;
}

[data-theme="christmas"] .btn-primary::after {
    content: '\2728';
    margin-left: 0.5rem;
    opacity: 0;
    transition: opacity 0.3s ease;
}

[data-theme="christmas"] .btn-primary:hover::after {
    opacity: 1;
}

/* Snowfall Animation */
@keyframes snowfall {
    0%   { transform: translateY(0) rotate(0deg); }
    100% { transform: translateY(110vh) rotate(360deg); }
}

.snowflake {
    color: #ffffff;
    text-shadow:
        0 0 5px #ffffff,
        0 0 10px #e0f2fe,
        0 0 15px #bae6fd;
}

/* Ocean wave hover effect */
[data-theme="ocean"] .card:hover {
    box-shadow:
        0 4px 6px -1px rgba(8, 145, 178, 0.1),
        0 2px 4px -1px rgba(8, 145, 178, 0.06);
}

/* ═══════════════════════════════════════════
   THEME TRANSITION
   ═══════════════════════════════════════════ */
body,
.sidebar,
.main,
.card,
.stat-card,
.sub-card,
.btn,
.nav-item {
    transition:
        background-color 0.3s ease,
        color 0.3s ease,
        border-color 0.3s ease;
}

/* ═══════════════════════════════════════════
   THEME SELECTOR (Settings Page)
   ═══════════════════════════════════════════ */
.theme-selector {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.theme-option {
    padding: 1rem;
    border: 2px solid var(--border);
    border-radius: var(--radius);
    cursor: pointer;
    transition: all 0.2s ease;
    background: var(--bg-card);
}

.theme-option:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.theme-option.active {
    border-color: var(--accent);
    background: var(--accent);
    color: white;
}

.theme-preview {
    display: flex;
    gap: 0.5rem;
    margin-top: 0.5rem;
    height: 40px;
}

.theme-preview-color {
    flex: 1;
    border-radius: var(--radius-sm);
}

.theme-name {
    font-weight: 600;
    margin-bottom: 0.25rem;
}

.theme-description {
    font-size: 0.875rem;
    opacity: 0.8;
}

/* ═══════════════════════════════════════════
   REDUCED MOTION
   ═══════════════════════════════════════════ */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }

    .snowflake {
        display: none;
    }
}

/* ═══════════════════════════════════════════
   LEGACY: Tailwind Class Overrides
   TODO: Remove after template migration
   ═══════════════════════════════════════════ */

/* --- Default (legacy) --- */
[data-theme="default"] body {
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%) !important;
    color: #0f172a !important;
}
[data-theme="default"] .bg-white,
[data-theme="default"] header {
    background-color: #ffffff !important;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06) !important;
}
[data-theme="default"] .bg-gray-50 { background-color: #f8fafc !important; }
[data-theme="default"] .border-gray-200 { border-color: #e2e8f0 !important; }

/* --- Dark (legacy) --- */
[data-theme="dark"] body {
    background-color: #121212 !important;
    color: #E4E4E7 !important;
}
[data-theme="dark"] .bg-white,
[data-theme="dark"] header { background-color: #1e1e1e !important; }
[data-theme="dark"] .bg-gray-50 { background-color: #2a2a2a !important; }
[data-theme="dark"] .text-gray-900 { color: #E4E4E7 !important; }
[data-theme="dark"] .text-gray-600,
[data-theme="dark"] .text-gray-700 { color: #a1a1aa !important; }
[data-theme="dark"] .border-gray-200 { border-color: #3f3f46 !important; }
[data-theme="dark"] .bg-primary,
[data-theme="dark"] button.bg-primary { background-color: #60a5fa !important; }
[data-theme="dark"] .bg-primary:hover { background-color: #3b82f6 !important; }
[data-theme="dark"] .hover\:bg-gray-50:hover,
[data-theme="dark"] .hover\:bg-gray-100:hover { background-color: #3f3f46 !important; }
[data-theme="dark"] .hover\:bg-white:hover { background-color: #2a2a2a !important; }
[data-theme="dark"] .bg-blue-50 { background-color: #1e293b !important; }
[data-theme="dark"] .bg-blue-100 { background-color: #374151 !important; }
[data-theme="dark"] .text-blue-700 { color: #93c5fd !important; }
[data-theme="dark"] .hover\:bg-blue-200:hover { background-color: #4b5563 !important; }

/* --- Midnight (legacy) --- */
[data-theme="midnight"] body {
    background: linear-gradient(135deg, #0a0a0f 0%, #1a0f2e 100%) !important;
    color: #e9d5ff !important;
}
[data-theme="midnight"] .bg-white,
[data-theme="midnight"] header {
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%) !important;
    border-color: #4c1d95 !important;
    box-shadow: 0 0 20px rgba(139, 92, 246, 0.15) !important;
}
[data-theme="midnight"] .bg-gray-50 { background-color: #1e1e2e !important; }
[data-theme="midnight"] .text-gray-900 { color: #e9d5ff !important; }
[data-theme="midnight"] .text-gray-600,
[data-theme="midnight"] .text-gray-700 { color: #c4b5fd !important; }
[data-theme="midnight"] .border-gray-200 { border-color: #4c1d95 !important; }
[data-theme="midnight"] .bg-primary,
[data-theme="midnight"] button.bg-primary {
    background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%) !important;
    box-shadow: 0 0 15px rgba(139, 92, 246, 0.5) !important;
}
[data-theme="midnight"] .bg-primary:hover {
    background: linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%) !important;
    box-shadow: 0 0 25px rgba(139, 92, 246, 0.7) !important;
}
[data-theme="midnight"] .bg-blue-50 { background-color: #1e1e2e !important; }
[data-theme="midnight"] .bg-blue-100 { background-color: #2a2540 !important; }
[data-theme="midnight"] .text-blue-700 { color: #c4b5fd !important; }
[data-theme="midnight"] .hover\:bg-blue-200:hover { background-color: #3a3550 !important; }

/* --- Ocean (legacy) --- */
[data-theme="ocean"] body {
    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%) !important;
    color: #0c4a6e !important;
}
[data-theme="ocean"] .bg-white,
[data-theme="ocean"] header { background-color: #ffffff !important; border-color: #bae6fd !important; }
[data-theme="ocean"] .text-gray-900 { color: #0c4a6e !important; }
[data-theme="ocean"] .text-gray-600,
[data-theme="ocean"] .text-gray-700 { color: #475569 !important; }
[data-theme="ocean"] .bg-primary,
[data-theme="ocean"] button.bg-primary { background-color: #0891b2 !important; }
[data-theme="ocean"] .bg-primary:hover { background-color: #06b6d4 !important; }

/* --- Christmas (legacy) --- */
[data-theme="christmas"] body {
    background: linear-gradient(135deg, #fef3f3 0%, #fef2f2 100%) !important;
    color: #1f2937 !important;
}
[data-theme="christmas"] .bg-white,
[data-theme="christmas"] header {
    background: linear-gradient(135deg, #ffffff 0%, #fef2f2 100%) !important;
    border-color: #fecaca !important;
}
[data-theme="christmas"] .bg-primary,
[data-theme="christmas"] .bg-blue-600,
[data-theme="christmas"] button.bg-primary { background-color: #c41e3a !important; }
[data-theme="christmas"] .bg-primary:hover,
[data-theme="christmas"] button.bg-primary:hover { background-color: #a01729 !important; }
[data-theme="christmas"] .text-primary { color: #c41e3a !important; }
[data-theme="christmas"] .logo,
[data-theme="christmas"] img[alt="SubTrackr"] {
    filter: drop-shadow(0 0 8px rgba(255, 215, 0, 0.3));
}
[data-theme="christmas"] .bg-white {
    border-left: 3px solid var(--theme-special-accent, #ffd700);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), -3px 0 0 rgba(255, 215, 0, 0.3);
}

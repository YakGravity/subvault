/*
 * SubTrackr Theme System
 * v0.11.0
 *
 * Overrides design-system.css CSS custom properties per theme.
 * Legacy Tailwind overrides are kept for backward compatibility
 * during template migration and will be removed in a future release.
 */

/* ═══════════════════════════════════════════
   DEFAULT THEME (Warm Utility — Light)
   Already defined in design-system.css :root.
   Explicit data-theme selector for JS toggle.
   ═══════════════════════════════════════════ */
[data-theme="default"] {
    --bg: #f5f3ef;
    --bg-card: #ffffff;
    --bg-nav: #1c1917;
    --bg-nav-hover: #292524;
    --bg-nav-active: #44403c;
    --text: #1c1917;
    --text-secondary: #78716c;
    --text-muted: #a8a29e;
    --text-nav: #d6d3d1;
    --text-nav-active: #ffffff;
    --border: #e7e5e4;
    --border-light: #f5f5f4;
    --accent: #c2410c;
    --accent-hover: #9a3412;
    --accent-light: #fed7aa;
    --accent-surface: #fff7ed;
    --success: #15803d;
    --success-light: #dcfce7;
    --warning: #a16207;
    --warning-light: #fef9c3;
    --danger: #b91c1c;
    --danger-light: #fee2e2;
    --info: #1d4ed8;
    --info-light: #dbeafe;
    --shadow: 0 1px 2px rgba(28, 25, 23, .04), 0 1px 3px rgba(28, 25, 23, .06);
    --shadow-md: 0 2px 8px rgba(28, 25, 23, .06), 0 1px 2px rgba(28, 25, 23, .04);
}

/* ═══════════════════════════════════════════
   DARK THEME
   ═══════════════════════════════════════════ */
[data-theme="dark"] {
    --bg: #121212;
    --bg-card: #1e1e1e;
    --bg-nav: #0a0a0a;
    --bg-nav-hover: #1a1a1a;
    --bg-nav-active: #2a2a2a;
    --text: #e4e4e7;
    --text-secondary: #a1a1aa;
    --text-muted: #71717a;
    --text-nav: #a1a1aa;
    --text-nav-active: #ffffff;
    --border: #3f3f46;
    --border-light: #27272a;
    --accent: #ea580c;
    --accent-hover: #f97316;
    --accent-light: #431407;
    --accent-surface: #1c0f05;
    --success: #22c55e;
    --success-light: #052e16;
    --warning: #eab308;
    --warning-light: #422006;
    --danger: #ef4444;
    --danger-light: #450a0a;
    --info: #60a5fa;
    --info-light: #172554;
    --shadow: 0 1px 2px rgba(0, 0, 0, .3), 0 1px 3px rgba(0, 0, 0, .2);
    --shadow-md: 0 2px 8px rgba(0, 0, 0, .3), 0 1px 2px rgba(0, 0, 0, .2);
}

/* ═══════════════════════════════════════════
   THEME TRANSITION
   ═══════════════════════════════════════════ */
body,
.sidebar,
.main,
.card,
.stat-card,
.sub-card,
.btn,
.nav-item {
    transition:
        background-color 0.3s ease,
        color 0.3s ease,
        border-color 0.3s ease;
}

/* ═══════════════════════════════════════════
   THEME SELECTOR (Settings Page)
   ═══════════════════════════════════════════ */
.theme-selector {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.theme-option {
    padding: 1rem;
    border: 2px solid var(--border);
    border-radius: var(--radius);
    cursor: pointer;
    transition: all 0.2s ease;
    background: var(--bg-card);
}

.theme-option:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.theme-option.active {
    border-color: var(--accent);
    background: var(--accent);
    color: white;
}

.theme-preview {
    display: flex;
    gap: 0.5rem;
    margin-top: 0.5rem;
    height: 40px;
}

.theme-preview-color {
    flex: 1;
    border-radius: var(--radius-sm);
}

.theme-name {
    font-weight: 600;
    margin-bottom: 0.25rem;
}

.theme-description {
    font-size: 0.875rem;
    opacity: 0.8;
}

/* ═══════════════════════════════════════════
   REDUCED MOTION
   ═══════════════════════════════════════════ */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* ═══════════════════════════════════════════
   LEGACY: Tailwind Class Overrides
   TODO: Remove after template migration
   ═══════════════════════════════════════════ */

/* --- Default (legacy) --- */
[data-theme="default"] body {
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%) !important;
    color: #0f172a !important;
}
[data-theme="default"] .bg-white,
[data-theme="default"] header {
    background-color: #ffffff !important;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06) !important;
}
[data-theme="default"] .bg-gray-50 { background-color: #f8fafc !important; }
[data-theme="default"] .border-gray-200 { border-color: #e2e8f0 !important; }

/* --- Dark (legacy) --- */
[data-theme="dark"] body {
    background-color: #121212 !important;
    color: #E4E4E7 !important;
}
[data-theme="dark"] .bg-white,
[data-theme="dark"] header { background-color: #1e1e1e !important; }
[data-theme="dark"] .bg-gray-50 { background-color: #2a2a2a !important; }
[data-theme="dark"] .text-gray-900 { color: #E4E4E7 !important; }
[data-theme="dark"] .text-gray-600,
[data-theme="dark"] .text-gray-700 { color: #a1a1aa !important; }
[data-theme="dark"] .border-gray-200 { border-color: #3f3f46 !important; }
[data-theme="dark"] .bg-primary,
[data-theme="dark"] button.bg-primary { background-color: #60a5fa !important; }
[data-theme="dark"] .bg-primary:hover { background-color: #3b82f6 !important; }
[data-theme="dark"] .hover\:bg-gray-50:hover,
[data-theme="dark"] .hover\:bg-gray-100:hover { background-color: #3f3f46 !important; }
[data-theme="dark"] .hover\:bg-white:hover { background-color: #2a2a2a !important; }
[data-theme="dark"] .bg-blue-50 { background-color: #1e293b !important; }
[data-theme="dark"] .bg-blue-100 { background-color: #374151 !important; }
[data-theme="dark"] .text-blue-700 { color: #93c5fd !important; }
[data-theme="dark"] .hover\:bg-blue-200:hover { background-color: #4b5563 !important; }
